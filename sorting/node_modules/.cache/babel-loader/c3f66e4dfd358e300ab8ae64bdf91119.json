{"ast":null,"code":"\"use strict\";\n\nvar parse = require(\"github-calendar-parser\"),\n    $ = require(\"elly\"),\n    addSubtractDate = require(\"add-subtract-date\"),\n    formatoid = require(\"formatoid\");\n\nvar DATE_FORMAT1 = \"MMM D, YYYY\",\n    DATE_FORMAT2 = \"MMMM D\";\nvar MONTH_NAMES = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nfunction printDayCount(dayCount) {\n  return dayCount + \" \" + (dayCount === 1 ? \"day\" : \"days\");\n}\n\nfunction addTooltips(container) {\n  var tooltip = document.createElement(\"div\");\n  tooltip.classList.add(\"day-tooltip\");\n  container.appendChild(tooltip); // Add mouse event listener to show & hide tooltip\n\n  var days = container.querySelectorAll(\"rect.day\");\n  days.forEach(function (day) {\n    day.addEventListener(\"mouseenter\", function (e) {\n      var contribCount = e.target.getAttribute(\"data-count\");\n\n      if (contribCount === \"0\") {\n        contribCount = \"No contributions\";\n      } else if (contribCount === \"1\") {\n        contribCount = \"1 contribution\";\n      } else {\n        contribCount = contribCount + \" contributions\";\n      }\n\n      var date = new Date(e.target.getAttribute(\"data-date\"));\n      var dateText = MONTH_NAMES[date.getUTCMonth()] + \" \" + date.getUTCDate() + \", \" + date.getUTCFullYear();\n      tooltip.innerHTML = \"<strong>\" + contribCount + \"</strong> on \" + dateText;\n      tooltip.classList.add(\"is-visible\");\n      var size = e.target.getBoundingClientRect(),\n          leftPos = size.left + window.pageXOffset - tooltip.offsetWidth / 2 + size.width / 2,\n          topPos = size.bottom + window.pageYOffset - tooltip.offsetHeight - 2 * size.height;\n      tooltip.style.top = topPos + \"px\";\n      tooltip.style.left = leftPos + \"px\";\n    });\n    day.addEventListener(\"mouseleave\", function () {\n      tooltip.classList.remove(\"is-visible\");\n    });\n  });\n}\n/**\n * GitHubCalendar\n * Brings the contributions calendar from GitHub (provided username) into your page.\n *\n * @name GitHubCalendar\n * @function\n * @param {String|HTMLElement} container The calendar container (query selector or the element itself).\n * @param {String} username The GitHub username.\n * @param {Object} options An object containing the following fields:\n *\n *    - `summary_text` (String): The text that appears under the calendar (defaults to: `\"Summary of\n *      pull requests, issues opened, and commits made by <username>\"`).\n *    - `proxy` (Function): A function that receives as argument the username (string) and should return a promise resolving the HTML content of the contributions page.\n *      The default is using @Bloggify's APIs.\n *    - `global_stats` (Boolean): If `false`, the global stats (total, longest and current streaks) will not be calculated and displayed. By default this is enabled.\n *    - `responsive` (Boolean): If `true`, the graph is changed to scale with the container. Custom CSS should be applied to the element to scale it appropriately. By default this is disabled.\n *    - `tooltips` (Boolean): If `true`, tooltips will be shown when hovered over calendar days. By default this is disabled.\n *    - `cache` (Number) The cache time in seconds.\n *\n * @return {Promise} A promise returned by the `fetch()` call.\n */\n\n\nmodule.exports = function GitHubCalendar(container, username, options) {\n  container = $(container);\n  options = options || {};\n  options.summary_text = options.summary_text || \"Summary of pull requests, issues opened, and commits made by <a href=\\\"https://github.com/\" + username + \"\\\" target=\\\"blank\\\">@\" + username + \"</a>\";\n  options.cache = (options.cache || 24 * 60 * 60) * 1000;\n\n  if (options.global_stats === false) {\n    container.style.minHeight = \"175px\";\n  }\n\n  var cacheKeys = {\n    content: \"gh_calendar_content.\" + username,\n    expire_at: \"gh_calendar_expire.\" + username // We need a proxy for CORS\n\n  };\n\n  options.proxy = options.proxy || function (username) {\n    return fetch(\"https://api.bloggify.net/gh-calendar/?username=\" + username).then(function (r) {\n      return r.text();\n    });\n  };\n\n  options.getCalendar = options.getCalendar || function (username) {\n    if (options.cache && Date.now() < +localStorage.getItem(cacheKeys.expire_at)) {\n      var content = localStorage.getItem(cacheKeys.content);\n\n      if (content) {\n        return Promise.resolve(content);\n      }\n    }\n\n    return options.proxy(username).then(function (body) {\n      if (options.cache) {\n        localStorage.setItem(cacheKeys.content, body);\n        localStorage.setItem(cacheKeys.expire_at, Date.now() + options.cache);\n      }\n\n      return body;\n    });\n  };\n\n  var fetchCalendar = function fetchCalendar() {\n    return options.getCalendar(username).then(function (body) {\n      var div = document.createElement(\"div\");\n      div.innerHTML = body;\n      var cal = div.querySelector(\".js-yearly-contributions\");\n      $(\".position-relative h2\", cal).remove();\n      cal.querySelector(\".float-left.text-gray\").innerHTML = options.summary_text; // If 'include-fragment' with spinner img loads instead of the svg, fetchCalendar again\n\n      if (cal.querySelector(\"include-fragment\")) {\n        setTimeout(fetchCalendar, 500);\n      } else {\n        // If options includes responsive, SVG element has to be manipulated to be made responsive\n        if (options.responsive === true) {\n          var svg = cal.querySelector(\"svg.js-calendar-graph-svg\"); // Get the width/height properties and use them to create the viewBox\n\n          var width = svg.getAttribute(\"width\");\n          var height = svg.getAttribute(\"height\"); // Remove height property entirely\n\n          svg.removeAttribute(\"height\"); // Width property should be set to 100% to fill entire container\n\n          svg.setAttribute(\"width\", \"100%\"); // Add a viewBox property based on the former width/height\n\n          svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n        }\n\n        if (options.global_stats !== false) {\n          var parsed = parse($(\"svg\", cal).outerHTML),\n              currentStreakInfo = parsed.current_streak ? formatoid(parsed.current_streak_range[0], DATE_FORMAT2) + \" &ndash; \" + formatoid(parsed.current_streak_range[1], DATE_FORMAT2) : parsed.last_contributed ? \"Last contributed in \" + formatoid(parsed.last_contributed, DATE_FORMAT2) + \".\" : \"Rock - Hard Place\",\n              longestStreakInfo = parsed.longest_streak ? formatoid(parsed.longest_streak_range[0], DATE_FORMAT2) + \" &ndash; \" + formatoid(parsed.longest_streak_range[1], DATE_FORMAT2) : parsed.last_contributed ? \"Last contributed in \" + formatoid(parsed.last_contributed, DATE_FORMAT2) + \".\" : \"Rock - Hard Place\",\n              firstCol = $(\"<div>\", {\n            \"class\": \"contrib-column contrib-column-first table-column\",\n            html: \"<span class=\\\"text-muted\\\">Contributions in the last year</span>\\n                               <span class=\\\"contrib-number\\\">\" + parsed.last_year + \" total</span>\\n                               <span class=\\\"text-muted\\\">\" + formatoid(addSubtractDate.add(addSubtractDate.subtract(new Date(), 1, \"year\"), 1, \"day\"), DATE_FORMAT1) + \" &ndash; \" + formatoid(new Date(), DATE_FORMAT1) + \"</span>\"\n          }),\n              secondCol = $(\"<div>\", {\n            \"class\": \"contrib-column table-column\",\n            html: \"<span class=\\\"text-muted\\\">Longest streak</span>\\n                               <span class=\\\"contrib-number\\\">\" + printDayCount(parsed.longest_streak) + \"</span>\\n                               <span class=\\\"text-muted\\\">\" + longestStreakInfo + \"</span>\"\n          }),\n              thirdCol = $(\"<div>\", {\n            \"class\": \"contrib-column table-column\",\n            html: \"<span class=\\\"text-muted\\\">Current streak</span>\\n                               <span class=\\\"contrib-number\\\">\" + printDayCount(parsed.current_streak) + \"</span>\\n                               <span class=\\\"text-muted\\\">\" + currentStreakInfo + \"</span>\"\n          });\n          cal.appendChild(firstCol);\n          cal.appendChild(secondCol);\n          cal.appendChild(thirdCol);\n        }\n\n        container.innerHTML = cal.innerHTML; // If options includes tooltips, add tooltips listeners to SVG\n\n        if (options.tooltips === true) {\n          addTooltips(container);\n        }\n      }\n    }).catch(function (e) {\n      return console.error(e);\n    });\n  };\n\n  return fetchCalendar();\n};","map":{"version":3,"sources":["C:/Users/Roger/Code/Projects/sortingRepo/sorting/node_modules/github-calendar/lib/index.js"],"names":["parse","require","$","addSubtractDate","formatoid","DATE_FORMAT1","DATE_FORMAT2","MONTH_NAMES","printDayCount","dayCount","addTooltips","container","tooltip","document","createElement","classList","add","appendChild","days","querySelectorAll","forEach","day","addEventListener","e","contribCount","target","getAttribute","date","Date","dateText","getUTCMonth","getUTCDate","getUTCFullYear","innerHTML","size","getBoundingClientRect","leftPos","left","window","pageXOffset","offsetWidth","width","topPos","bottom","pageYOffset","offsetHeight","height","style","top","remove","module","exports","GitHubCalendar","username","options","summary_text","cache","global_stats","minHeight","cacheKeys","content","expire_at","proxy","fetch","then","r","text","getCalendar","now","localStorage","getItem","Promise","resolve","body","setItem","fetchCalendar","div","cal","querySelector","setTimeout","responsive","svg","removeAttribute","setAttribute","parsed","outerHTML","currentStreakInfo","current_streak","current_streak_range","last_contributed","longestStreakInfo","longest_streak","longest_streak_range","firstCol","html","last_year","subtract","secondCol","thirdCol","tooltips","catch","console","error"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar parse = require(\"github-calendar-parser\"),\n    $ = require(\"elly\"),\n    addSubtractDate = require(\"add-subtract-date\"),\n    formatoid = require(\"formatoid\");\n\nvar DATE_FORMAT1 = \"MMM D, YYYY\",\n    DATE_FORMAT2 = \"MMMM D\";\n\nvar MONTH_NAMES = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nfunction printDayCount(dayCount) {\n    return dayCount + \" \" + (dayCount === 1 ? \"day\" : \"days\");\n}\n\nfunction addTooltips(container) {\n    var tooltip = document.createElement(\"div\");\n    tooltip.classList.add(\"day-tooltip\");\n    container.appendChild(tooltip);\n\n    // Add mouse event listener to show & hide tooltip\n    var days = container.querySelectorAll(\"rect.day\");\n    days.forEach(function (day) {\n        day.addEventListener(\"mouseenter\", function (e) {\n            var contribCount = e.target.getAttribute(\"data-count\");\n            if (contribCount === \"0\") {\n                contribCount = \"No contributions\";\n            } else if (contribCount === \"1\") {\n                contribCount = \"1 contribution\";\n            } else {\n                contribCount = contribCount + \" contributions\";\n            }\n            var date = new Date(e.target.getAttribute(\"data-date\"));\n            var dateText = MONTH_NAMES[date.getUTCMonth()] + \" \" + date.getUTCDate() + \", \" + date.getUTCFullYear();\n            tooltip.innerHTML = \"<strong>\" + contribCount + \"</strong> on \" + dateText;\n            tooltip.classList.add(\"is-visible\");\n            var size = e.target.getBoundingClientRect(),\n                leftPos = size.left + window.pageXOffset - tooltip.offsetWidth / 2 + size.width / 2,\n                topPos = size.bottom + window.pageYOffset - tooltip.offsetHeight - 2 * size.height;\n            tooltip.style.top = topPos + \"px\";\n            tooltip.style.left = leftPos + \"px\";\n        });\n        day.addEventListener(\"mouseleave\", function () {\n            tooltip.classList.remove(\"is-visible\");\n        });\n    });\n}\n\n/**\n * GitHubCalendar\n * Brings the contributions calendar from GitHub (provided username) into your page.\n *\n * @name GitHubCalendar\n * @function\n * @param {String|HTMLElement} container The calendar container (query selector or the element itself).\n * @param {String} username The GitHub username.\n * @param {Object} options An object containing the following fields:\n *\n *    - `summary_text` (String): The text that appears under the calendar (defaults to: `\"Summary of\n *      pull requests, issues opened, and commits made by <username>\"`).\n *    - `proxy` (Function): A function that receives as argument the username (string) and should return a promise resolving the HTML content of the contributions page.\n *      The default is using @Bloggify's APIs.\n *    - `global_stats` (Boolean): If `false`, the global stats (total, longest and current streaks) will not be calculated and displayed. By default this is enabled.\n *    - `responsive` (Boolean): If `true`, the graph is changed to scale with the container. Custom CSS should be applied to the element to scale it appropriately. By default this is disabled.\n *    - `tooltips` (Boolean): If `true`, tooltips will be shown when hovered over calendar days. By default this is disabled.\n *    - `cache` (Number) The cache time in seconds.\n *\n * @return {Promise} A promise returned by the `fetch()` call.\n */\nmodule.exports = function GitHubCalendar(container, username, options) {\n\n    container = $(container);\n\n    options = options || {};\n    options.summary_text = options.summary_text || \"Summary of pull requests, issues opened, and commits made by <a href=\\\"https://github.com/\" + username + \"\\\" target=\\\"blank\\\">@\" + username + \"</a>\";\n    options.cache = (options.cache || 24 * 60 * 60) * 1000;\n\n    if (options.global_stats === false) {\n        container.style.minHeight = \"175px\";\n    }\n\n    var cacheKeys = {\n        content: \"gh_calendar_content.\" + username,\n        expire_at: \"gh_calendar_expire.\" + username\n\n        // We need a proxy for CORS\n    };options.proxy = options.proxy || function (username) {\n        return fetch(\"https://api.bloggify.net/gh-calendar/?username=\" + username).then(function (r) {\n            return r.text();\n        });\n    };\n\n    options.getCalendar = options.getCalendar || function (username) {\n        if (options.cache && Date.now() < +localStorage.getItem(cacheKeys.expire_at)) {\n            var content = localStorage.getItem(cacheKeys.content);\n            if (content) {\n                return Promise.resolve(content);\n            }\n        }\n\n        return options.proxy(username).then(function (body) {\n            if (options.cache) {\n                localStorage.setItem(cacheKeys.content, body);\n                localStorage.setItem(cacheKeys.expire_at, Date.now() + options.cache);\n            }\n            return body;\n        });\n    };\n\n    var fetchCalendar = function fetchCalendar() {\n        return options.getCalendar(username).then(function (body) {\n            var div = document.createElement(\"div\");\n            div.innerHTML = body;\n            var cal = div.querySelector(\".js-yearly-contributions\");\n            $(\".position-relative h2\", cal).remove();\n            cal.querySelector(\".float-left.text-gray\").innerHTML = options.summary_text;\n\n            // If 'include-fragment' with spinner img loads instead of the svg, fetchCalendar again\n            if (cal.querySelector(\"include-fragment\")) {\n                setTimeout(fetchCalendar, 500);\n            } else {\n                // If options includes responsive, SVG element has to be manipulated to be made responsive\n                if (options.responsive === true) {\n                    var svg = cal.querySelector(\"svg.js-calendar-graph-svg\");\n                    // Get the width/height properties and use them to create the viewBox\n                    var width = svg.getAttribute(\"width\");\n                    var height = svg.getAttribute(\"height\");\n                    // Remove height property entirely\n                    svg.removeAttribute(\"height\");\n                    // Width property should be set to 100% to fill entire container\n                    svg.setAttribute(\"width\", \"100%\");\n                    // Add a viewBox property based on the former width/height\n                    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n                }\n\n                if (options.global_stats !== false) {\n                    var parsed = parse($(\"svg\", cal).outerHTML),\n                        currentStreakInfo = parsed.current_streak ? formatoid(parsed.current_streak_range[0], DATE_FORMAT2) + \" &ndash; \" + formatoid(parsed.current_streak_range[1], DATE_FORMAT2) : parsed.last_contributed ? \"Last contributed in \" + formatoid(parsed.last_contributed, DATE_FORMAT2) + \".\" : \"Rock - Hard Place\",\n                        longestStreakInfo = parsed.longest_streak ? formatoid(parsed.longest_streak_range[0], DATE_FORMAT2) + \" &ndash; \" + formatoid(parsed.longest_streak_range[1], DATE_FORMAT2) : parsed.last_contributed ? \"Last contributed in \" + formatoid(parsed.last_contributed, DATE_FORMAT2) + \".\" : \"Rock - Hard Place\",\n                        firstCol = $(\"<div>\", {\n                        \"class\": \"contrib-column contrib-column-first table-column\",\n                        html: \"<span class=\\\"text-muted\\\">Contributions in the last year</span>\\n                               <span class=\\\"contrib-number\\\">\" + parsed.last_year + \" total</span>\\n                               <span class=\\\"text-muted\\\">\" + formatoid(addSubtractDate.add(addSubtractDate.subtract(new Date(), 1, \"year\"), 1, \"day\"), DATE_FORMAT1) + \" &ndash; \" + formatoid(new Date(), DATE_FORMAT1) + \"</span>\"\n                    }),\n                        secondCol = $(\"<div>\", {\n                        \"class\": \"contrib-column table-column\",\n                        html: \"<span class=\\\"text-muted\\\">Longest streak</span>\\n                               <span class=\\\"contrib-number\\\">\" + printDayCount(parsed.longest_streak) + \"</span>\\n                               <span class=\\\"text-muted\\\">\" + longestStreakInfo + \"</span>\"\n                    }),\n                        thirdCol = $(\"<div>\", {\n                        \"class\": \"contrib-column table-column\",\n                        html: \"<span class=\\\"text-muted\\\">Current streak</span>\\n                               <span class=\\\"contrib-number\\\">\" + printDayCount(parsed.current_streak) + \"</span>\\n                               <span class=\\\"text-muted\\\">\" + currentStreakInfo + \"</span>\"\n                    });\n\n                    cal.appendChild(firstCol);\n                    cal.appendChild(secondCol);\n                    cal.appendChild(thirdCol);\n                }\n\n                container.innerHTML = cal.innerHTML;\n\n                // If options includes tooltips, add tooltips listeners to SVG\n                if (options.tooltips === true) {\n                    addTooltips(container);\n                }\n            }\n        }).catch(function (e) {\n            return console.error(e);\n        });\n    };\n\n    return fetchCalendar();\n};"]},"metadata":{},"sourceType":"script"}